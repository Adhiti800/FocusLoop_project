{% extends "base.html" %}
{% block content %}
{% load static %}
<script src="{% static 'dashboard/js/b_script.js' %}"></script>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" />

<style>
    body {
        background: #FFFFFF;
        font-family: 'Poppins', sans-serif;
        animation: gradientShift 10s ease infinite;
        transition: opacity 0.5s ease;
        /*background-size: 800% 800%;*/
    }

    body.fade-out {
        opacity: 0;
    }

    @keyframes gradientShift {
        0% {
            background-position: 0% 50%;
        }

        50% {
            background-position: 100% 50%;
        }

        100% {
            background-position: 0% 50%;
        }
    }

    .navbar-pink a {
        color: white;
        text-decoration: none;
        padding: 10px 15px;
        margin: 5px 0;
        border-radius: 4px;
        transition: all 0.3s ease;
        margin: 10px 0;

    }

    .navbar-pink a:hover {
        background-color: #8746d5;
        color: #FFFFFF;
        box-shadow: 0 5px 15px rgba(173, 72, 255, 0.4), 0 0 25px #8236de, 0 0 50px #8236de;
        transform: translateY(-3px) scale(1.05);
        padding: 5px 15px;
        margin: 5px 0;

        margin: 10px 0;


    }

    .btn-pink {
        background-color: #FF8FB1;
        color: white;
        font-weight: 600;
        padding: 12px 28px;
        border-radius: 50px;
        border: none;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(255, 143, 177, 0.4);
        margin: 10px 0;
        width: 100%;
    }



    .btn-pink {
        background-color: #FF8FB1;
        color: white;
        font-weight: 600;
        padding: 12px 28px;
        border-radius: 50px;
        border: none;
        transition: all 0.3s ease;
        box-shadow: 0 5px 15px rgba(255, 143, 177, 0.4);
        margin: 10px 0;
        width: 100%;
    }

    .btn-pink:hover {
        background-color: #FF4C82;
        color: #FFFFFF;
        box-shadow: 0 0 25px #FF4C82, 0 0 50px #c978ff;
        transform: translateY(-3px) scale(1.05);
    }

    .navbar-pink {
        background-color: #8236de;
        color: white;
    }

    .form-control {
        border-radius: 10px;
        padding: 5px;
        width: 95%;
        margin: 10px 10px;
        border-bottom: #8236de 2px solid;
    
    }

    .form-control:focus {
        box-shadow: 0 0 5px #8236de;
        border: 1px solid #8236de;
    }

    .form-label {
        font-weight: bold;
        font-size: 16px;

    }


    .leave-form {
        margin: auto;
        padding: 20px;
        border-radius: 10px;
        border: #8236de 2px solid;

    }
    .card{
        padding:20px;
        margin:25px;
    }
</style>

<div class="d-flex">
    <div class="flex-grow-1 p-4">

        <!--Nav bar no Hajimari-->
        <nav class="navbar navbar-pink mb-4 rounded">
            <div class="container-fluid">
                <!--<span class="navbar-brand mb-0 h1 text-white">Student Dashboard</span>-->
                <a href="#">Profile</a>
                <a href="home.html">Home</a>
                <a href="#">Complaint Box</a>
                <form method="POST" action="{% url 'logout' %}">
                    {% csrf_token %}
                    <button type="submit" class="btn btn-danger">Logout</button>
                </form>
            </div>
        </nav>
        <!--Nav Bar no Owari-->

        <!--Main part no Hajimari-->
        <h2 style="font-weight: bold;"> Leave Records</h2>
        <p> Submit and manage your Leave Applications
        <p>

        <div class="row mt-4">
            <div class="col-md-6 mb-3">
                <div class="card">

                    <!--Form no Hajimari-->
                    <form method="POST" class="leave-form">
                        {% csrf_token %}
                        <div class="mb-3 text-start">
                            <label class="form-label">Leave type</label>
                            <input type="text" class="form-control" name="leave_type"
                                placeholder="e.g: Sick leave, Emergency, etc" required>
                        </div>

                        <div class="mb-3 text-start">
                            <label class="form-label">Start Date</label>
                            <input type="date" class="form-control" name="start_date" placeholder="DD-MM-YY" required>
                        </div>

                        <div class="mb-3 text-start">
                            <label class="form-label">End date</label>
                            <input type="date" class="form-control" name="end_date" placeholder="DD-MM-YY">
                        </div>

                        <div class="mb-4 text-start">
                            <label class="form-label">Reason</label>
                            <textarea id="reason" name="reason" rows="6" cols="50" class="form-control" placeholder="Enter your Reason here!"></textarea>
                        </div>
                        <button type="submit" class="btn btn-pink">Submit Leave Request</button>
                    </form>
                    <!--Form no Owari-->

                </div>
            </div>

            <div class="col-md-8 mb-3">
                <div class="card p-4  overflow-x-auto">

                   <h3>Your Leave Applications</h3>
                   <br>
                    <table class="table" >
                        <thead>
                            <tr>
                                <th scope="col">Leave Type</th>
                                <th scope="col">Start Date</th>
                                <th scope="col">End Date</th>
                                <th scope="col">Reason</th>
                                <th scope="col">Status</th>
                            </tr>
                        </thead>
                        <tbody>
                            {% for leave in leave_applications %}
                            <tr>
                                <td>{{ leave.leave_type }}</td>
                                <td>{{ leave.start_date }}</td>
                                <td>{{ leave.end_date }}</td>
                                <td>{{ leave.reason }}</td>
                                <td>{{ leave.status }}</td>
                            </tr>
                            {% empty %}
                            <tr>
                                <td colspan="5">No leave applications found.</td>
                            </tr>
                            {% endfor %}
                        </tbody>
                    </table>
                </div>
   



                </div>
            </div>
        </div>
    </div>


    <!--Main part no Owari-->

</div>
</div>